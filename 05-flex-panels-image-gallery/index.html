<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Flex panels image gallery</title>
</head>
<body>
  <div class="panels">
    <div class="panel panel-1">
      <p>Делай</p>
      <p>Думай</p>
      <p>Играй</p>
    </div>
    <div class="panel panel-2">
      <p>Что</p>
      <p>Ты</p>
      <p>Хочешь</p>
    </div>
    <div class="panel panel-3">
      <p>Зима</p>
      <p>Лето</p>
      <p>Осень</p>
    </div>
    <div class="panel panel-4">
      <p>Колесо</p>
      <p>Велосипед</p>
      <p>Матак</p>
    </div>
    <div class="panel panel-5">
      <p>Трава</p>
      <p>Снег</p>
      <p>Песок</p>
    </div>
  </div>

  <style>
    html,
    body {
      height: 100%;
    }

    body {
      margin: 0;
      font-family: sans-serif;
    }

    * {
      box-sizing: border-box;
    }

    .panels {
      display: flex;
      width: 100%;
      height: 100%;
    }

    .panel {
      background: transparent no-repeat center center / cover;
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      transition: font-size 0.7s cubic-bezier(0.61,-0.19, 0.7,-0.11),
                  flex 0.7s cubic-bezier(0.61,-0.19, 0.7,-0.11),
                  background 0.2s,
                  transform 0.2s;
      overflow: hidden;
    }

    .panel > p {
      margin: 0;
      color: #fff;
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: inherit;
    }

    .panel > p:first-child {
      font-size: 30px;
      transform: translateY(-100%);
    }

    .panel > p:nth-child(2) {
      font-size: 50px;
    }

    .panel > p:last-child {
      font-size: 30px;
      transform: translateY(100%);
    }

    .open {
      flex: 5;
    }

    .open > p:nth-child(2) {
      font-size: 70px;
    }

    .open-active > p:first-child {
      transform: translateY(0);
    }

    .open-active > p:last-child {
      transform: translateY(0);
    }

    .panel-1 {
      background-image: url(http://xn----itbakdewdc2aggj5k.xn--p1ai/wp-content/uploads/2016/05/510.jpg);
    }

    .panel-2 {
      background-image: url(http://assets1.bmstatic.com/assets/bookshelves-covers/a3/45/b8d2f8b78f9e0b22ad8a5bffdc3b88c6-Mz0e0THj-ipad.jpg);
    }

    .panel-3 {
      background-image: url(https://img.drive.ru/i/0/5537552595a656d90c000011.jpg);
    }

    .panel-4 {
      background-image: url(http://russiantourism.ru/netcat_files/2343_18615.jpg);
    }

    .panel-5 {
      background-image: url(https://weclustr.com/wp-content/uploads/2017/04/Jeun-Fille-Endormie-by-Picasso.jpg);
    }
  </style>

  <script>
    const panels = document.querySelectorAll('.panel');

    panels.forEach((panel) => {
      panel.addEventListener('click', togglePanel);
      panel.addEventListener('transitionend', toggleActive);
    });

    function togglePanel(e) {
      this.classList.toggle('open');
    }

    function toggleActive(e) {
      if(e.propertyName === 'font-size') {
        this.classList.toggle('open-active');
      }
    }
  </script>
</body>
</html>